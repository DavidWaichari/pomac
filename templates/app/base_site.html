{% load static %}
{% load crispy_forms_tags %}
<!DOCTYPE html>
<html lang="en">
<head>
    {% block head %}
        {% block meta %}
            <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
            <!-- Meta, title, CSS, favicons, etc. -->
            <meta charset="utf-8">
            <meta http-equiv="X-UA-Compatible" content="IE=edge">
            <meta name="viewport" content="width=device-width, initial-scale=1">
        {% endblock meta %}

        <title>POMAC | {% block title %}{% endblock %}</title>

        {% block stylesheets %}
            <!-- Bootstrap -->
            <link href="/static/vendors/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
            <!-- Date Pickers -->
            <link rel="stylesheet" type="text/css"
                  href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.1/css/bootstrap-datepicker.min.css"/>
            <!-- Font Awesome -->
            <link href="/static/vendors/font-awesome/css/font-awesome.min.css" rel="stylesheet">
            <!-- NProgress -->
            <link href="/static/vendors/nprogress/nprogress.css" rel="stylesheet">
            <!-- bootstrap-daterangepicker -->
            <link href="/static/vendors/bootstrap-daterangepicker/daterangepicker.css" rel="stylesheet">
            <!-- iCheck -->
            <link href="/static/vendors/iCheck/skins/flat/green.css" rel="stylesheet">
            <!-- bootstrap-progressbar -->
            <link href="/static/vendors/bootstrap-progressbar/css/bootstrap-progressbar-3.3.4.min.css" rel="stylesheet">
            <!-- JQVMap -->
            <link href="/static/vendors/jqvmap/dist/jqvmap.min.css" rel="stylesheet"/>
            <link rel="shortcut icon" href="/static/images/courtofarms.png" type="image/x-icon" />
        {% endblock stylesheets %}
        <!-- Custom Theme Style -->
        <link href="/static/build/css/custom.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.css">
        <script src="https://code.jquery.com/jquery-3.3.1.js"></script>
        <script src="https://cdn.datatables.net/1.10.19/js/jquery.dataTables.min.js"></script>
        <script src="https://cdn.datatables.net/1.10.19/js/dataTables.bootstrap4.min.js"></script>
        <script src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
        <script src="https://cdn.datatables.net/responsive/2.2.3/js/responsive.bootstrap4.min.js"></script>
    {% endblock head %}
    <style>
        .help-block {
            display: block !important;
            margin-top: 5px !important;
            margin-bottom: 10px !important;
            color: red;
        }

        .invalid-feedback {
            display: block !important;
            margin-top: 5px !important;
            margin-bottom: 10px !important;
            color: red;
        }

        #allmytables a{
            color: blue;
            text-decoration: none;
        }
        #allmytables a:hover{
            color: whitesmoke;
            background:#0D3349;
        }

        #feedbackmessages {
            margin-right: 250px;
            padding: 5px;
            padding-top: 10px;
            border-radius: 15px;
            height: 50px;
            background-color: #00A000;
            color: white;
        }

        .checkbox, .radio {
            position: relative;
            display: block;
            margin-top: 0px;
            margin-bottom: 0px;
            padding: 0px;
        }

        label {
            display: inline-block;
            max-width: 100%;
            margin-top: 5px;
            font-weight: 700;
        }

        input[type=checkbox], input[type=radio] {
            /* margin: 4px 0 0; */
            margin-top: 0px \9;
            /* line-height: normal; */
        }
    </style>
</head>

<body class="{% block body_class %}nav-md {% endblock body_class %}">
{% block body %}
    <div class="container body">
        <div class="main_container">
            {% block sidebar %}
                <div class="col-md-3 left_col {% block sidebar_class %} {% endblock sidebar_class %}">
                    {% include "app/sidebar.html" %}
                </div>
            {% endblock sidebar %}

            {% block top_navigation %}
                <div class="top_nav">
                    {% include "app/top_navigation.html" %}
                </div>
            {% endblock top_navigation %}

            {% block content %}
                <!-- {{ content }} -->
            {% endblock content %}

            {% block footer %}
                <footer>
                    {% include "app/footer.html" %}
                </footer>
            {% endblock footer %}
        </div>
    </div>

    {% block javascripts %}
        <!-- jQuery -->
        <script src="/static/vendors/jquery/dist/jquery.min.js"></script>
        <!-- Date Pickers -->
        <script type="text/javascript"
                src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.1/js/bootstrap-datepicker.min.js"></script>
        <script type="text/javascript"
                src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.6.1/locales/bootstrap-datepicker.de.min.js"></script>
        <!-- Bootstrap -->
        <script src="/static/vendors/bootstrap/dist/js/bootstrap.min.js"></script>
        <!-- FastClick -->
        <script src="/static/vendors/fastclick/lib/fastclick.js"></script>
        <!-- NProgress -->
        <script src="/static/vendors/nprogress/nprogress.js"></script>
        <!-- bootstrap-progressbar -->
        <script src="/static/vendors/bootstrap-progressbar/bootstrap-progressbar.min.js"></script>
        <!-- iCheck -->
        <script src="/static/vendors/iCheck/icheck.min.js"></script>
        <!-- bootstrap-daterangepicker -->
        <script src="/static/vendors/moment/min/moment.min.js"></script>
        <script src="/static/vendors/bootstrap-daterangepicker/daterangepicker.js"></script>
        <!-- bootstrap-wysiwyg -->
        <script src="/static/vendors/bootstrap-wysiwyg/js/bootstrap-wysiwyg.min.js"></script>
        <script src="/static/vendors/jquery.hotkeys/jquery.hotkeys.js"></script>
        <script src="/static/vendors/google-code-prettify/src/prettify.js"></script>
        <!-- jQuery Tags Input -->
        <script src="/static/vendors/jquery.tagsinput/src/jquery.tagsinput.js"></script>
        <!-- Switchery -->
        <script src="/static/vendors/switchery/dist/switchery.min.js"></script>
        <!-- Select2 -->
        <script src="/static/vendors/select2/dist/js/select2.full.min.js"></script>
        <!-- Parsley -->
        <script src="/static/vendors/parsleyjs/dist/parsley.min.js"></script>
        <!-- Autosize -->
        <script src="/static/vendors/autosize/dist/autosize.min.js"></script>
        <!-- jQuery autocomplete -->
        <script src="/static/vendors/devbridge-autocomplete/dist/jquery.autocomplete.min.js"></script>
        <!-- starrr -->
        <script src="/static/vendors/starrr/dist/starrr.js"></script>
    {% endblock %}
    <!-- Custom Theme Scripts -->
    <script src="/static/build/js/custom.js"></script>
    <script src="/static/js/base.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/toastr.js/latest/toastr.min.js"></script>
{% endblock body %}
<script>
    $(function () {
        $('.datepicker').datepicker({
            format: "mm/dd/yyyy",
            todayBtn: "linked",
            language: "en"
        });
    });

    $(document).ready(function () {
        $('#div_id_created').hide();
        var checkmodifydate = $('#dateModification').val();
        if (checkmodifydate === 'Date modification Allowed') {
            $('#div_id_created').show();
            $('#id_created').prop("required", true);
        }
        $("#id_county").change(function () {
            var url = $("#PetitionForm").attr("data-subcounties-url");  // get the url of the `load_cities` view
            var countyId = $(this).val();  // get the selected country ID from the HTML input

            $.ajax({                       // initialize an AJAX request
                url: url,                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
                data: {
                    'county': countyId       // add the country id to the GET parameters
                },
                success: function (data) {   // `data` is the return of the `load_cities` view function
                    $("#id_subcounty").html(data);  // replace the contents of the city input with the data that came from the server
                }
            })
        });

        //function to load all the circumstance for the recommendation

         $("#id_interview").change(function () {
            var url = $("#RecommendationForm").attr("data-summary-url");  // get the url of the `get-circumstance-from-summary` view
            var interviewId = $(this).val();  // get the selected interview ID from the HTML input

            $.ajax({                       // initialize an AJAX request
                url: url,                    // set the url of the request (= localhost:8000/hr/ajax/load-cities/)
                data: {
                    'interview': interviewId       // add the country id to the GET parameters
                },
                success: function (data) {   // `data` is the return of the `load_cities` view function
                    $("#id_circumstanceofoffence").html(data);  // replace the contents of the city input with the data that came from the server
                    $("#id_circumstanceofoffence").attr("placeholder", 'There is no summary for this circumstance or its empty. Please create a summary for the selected petitioner or type a circumstance from scratch here for recommendation purposes. If you do not intend to do that now you can leave it empty' );
                }
            })
        });

        $('#feedbackmessages').delay(10000).fadeOut();
        $('#allmytables').DataTable({
            dom: "lBfrtip",
            buttons: [{
                extend: "copy",
                className: "btn-sm"
            }, {
                extend: "csv",
                className: "btn-sm"
            }, {
                extend: "excel",
                className: "btn-sm"
            },],
        });
    });
</script>

</body>

</html>

{% load sweetify %}
{% sweetify %}